# 미션 - 숫자 야구 (프리코스 1주차)
## 기능 요구사항

- **(1) 게임 시작:** 컴퓨터는 무작위 3자리 숫자를 생성한다.
  - 각 숫자는 1~9의 수 중 하나이다.
  - 각 자리의 숫자는 서로 달라야 한다.
- **(2) 사용자 입력:** 사용자는 콘솔에 3자리 숫자를 입력한다.
  - 사용자가 잘못된 값을 입력하는 경우, `IllegalArgumentException`을 발생시킨 후 애플리케이션을 종료한다.
- **(3) 결과 출력:** 컴퓨터는 입력한 숫자에 대한 결과를 출력한다.
  - 이때, 정답을 맞힌 경우와 맞히지 못한 경우로 나누어 처리한다.
  - **(3-1) 정답을 맞힌 경우**
    - 게임 종료 문구를 출력하고, 사용자의 입력을 기다린다.
    - 사용자가 '1'을 입력하는 경우, (1) 게임 시작 과정으로 돌아간다.
    - 사용자가 '2'를 입력하는 경우, (4) 게임 종료 과정으로 이동한다.
    - 사용자가 잘못된 값을 입력하는 경우, `IllegalArgumentException`을 발생시킨 후 애플리케이션을 종료한다. 
  - **(3-2) 정답을 맞히지 못한 경우**
- **(4) 게임 종료:** 애플리케이션을 완전히 종료한다.
  - 사용한 리소스는 모두 해제한다.

## 예외 상황
"사용자가 잘못된 값을 입력하는 경우"에 해당하는 예외 상황을 정리하였습니다.
  - 입력이 null인 경우
  - 숫자가 아닌 값을 포함하는 경우
  - 같은 수를 여러개 포함하는 경우
  - 숫자 중 0을 포함하는 경우
  - 이 경우 `IllegalArgumentException`을 발생시킨 후 애플리케이션을 종료한다.

## 미션 수행 중 생각 정리
미션을 진행하며 생각한 내용을 정리합니다. 개발을 진행하며 지속적으로 업데이트 하였습니다.
- 실제 구현에 들어가기 앞서, 요구사항을 정확하게 파악하려 노력하였습니다. 먼저 기능 요구사항과 각각의 기능 구현 중 발생할 수 있는 예외 케이스를 `docs/README.md` 파일에 정리하였습니다.
- 미션에서 제공하는 `camp.nextstep.edu.missionutil` 패키지에 포함된 메서드들의 동작을 파악하기 위해 힘썼습니다.
  - 각 메서드의 내부 구현 코드를 살펴보았고, 값을 넣어보며 예상대로 동작하는지 검증 해보았습니다.
- BaseballGame 클래스를 따로 분리할지 여부
  - BaseballGame 클래스의 필드가 정답 숫자들을 포함하도록 하려고 함
    - 정답 숫자들의 자료형
      - 각 숫자들을 모아 문자열로 표현할지
      - int형 배열로 표현할지
      - 또 다른 클래스로 분리할지
- 테스트가 실행될 때마다 실행 결과가 바뀌는 문제
  - 테스트는 항상 일관성있게 동작해야 합니다. 어느 순간에는 성공했던 테스트가 어느 순간에는 실패하는 경우가 있어서는 안됩니다.
- magic number의 처리
  - 숫자를 하드코딩 하지 않고, 어떻게 상수로 처리할지 고민
  - 따로 constants 패키지로 분리하고 import하여 사용하는 방식으로 변경
- 컴퓨터가 정답을 생성할 때 중복을 어떻게 처리할지 고민
  - 처음에는 
- 역할 분리
  - 처음에는 `BaseballGame` 클래스에 거의 모든 코드가 들어가 있었습니다. 그러나 코드가 길어짐에 따라 기능 수정 시 하나의 파일을 뒤적이며 해당 코드를 찾아내는데 오랜 시간이 걸렸고, 이는 유지보수에 어려움이 되었습니다.
  - 또, 역할을 분리하지 않았기 때문에 복잡한 코드들이 서로 의존하고 있었습니다. 이는 테스트코드를 작성함에 있어 매우 큰 장애물이었습니다.
  - 따라서 다음과 같이 별도의 클래스를 생성하여 `BaseballGame` 클래스가 담당하던 역할을 분리하였습니다.
    - `AnswerGenerator` : 컴퓨터의 정답을 생성
    - `Convertor` : 출력을 위해 list를 String으로 변환
    - `Judge` : 각 입력에 대한 Score 및 정답 여부를 판단
    - `UserInputReceiver` : 사용자의 입력을 처리
    - `Validator` : 사용자의 입력이 유효한지 검증
- 클래스와 메서드, 변수의 이름을 어떻게 작성할 것인지 고민하였습니다.
  - 호출한 메서드 이름만 보고도 어떤 동작을 수행하는지 고민해보았습니다.
  - 영단어 사전과 번역기를 사용하여 상황에 적절한 단어를 선택하기 위해 노력했습니다.
  - 비슷한 동작을 하는 메서드들의 이름은 어떻게 해야 통일성을 지킬 수 있을지 고민하였습니다.
    - 예) `Validator` 클래스의 `check...()` 메서드들
- 어떻게 해야 효율적으로 동작하는 코드를 작성할 수 있을지 고민하였습니다.
  - 컴퓨터의 정답 생성
    - 기존에는 중첩 반복문을 사용하여 각 숫자가 선택될 때마다 중복되는 숫자가 있는지 일일히 검사하는 메서드를 정의하여 검증에 사용했습니다.
    - 해당 메서드의 ㅅ
    - 만약 이미 선택된 숫자가 중복되어 선택되지 않을때까지 반복적으로 `Randoms.pickNumberInRange()` 메서드를 호출하여 새로운 숫자를   
    - 개선의 필요성을 느끼던 와중, 순서를 유지하며 중복을 허용하지 않는 자료구조인 `LinkedHashSet`을 알게되었고, 이를 코드에 적용하였습니다.

### 개선할 점
- 역할을 분리하려고 노력하였으나, 제대로 분리하지 못하여 각 클래스들이 서로 의존하는 문제가 있었습니다.
  - 강한 의존성으로 인해 동작 흐름이 각 클래스를 복잡하게 넘나드는 스파게티 코드가 되어버렸고, 유지보수에 어려움을 겪었습니다.
  - 메서드들이 서로 얽혀있어 동일한 매개변수를 여러번 반복해서 전달하는 문제
  - 출력문이 여기저기 복잡하게 분포되어있어 로직의 순서를 변경하면 출력문의 순서 또한 변경되어버리는 문제 또한 겪었습니다.

### 더 나아가기
- 역할의 분리와 의존성 제거를 위한 객체지향적 설계의 필요성을 절실히 느끼게되었습니다.
- 